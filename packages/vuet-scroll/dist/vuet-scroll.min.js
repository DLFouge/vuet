!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VuetScroll=e.VuetScroll||{})}(this,function(e){"use strict";function t(e){return!(!0===e.window&&!e.self)}function r(e){return!!e.window}var o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),i={error:function(e){throw new Error("[vuet] "+e)},warn:function(e){},assertModule:function(e,t){t in e.modules||this.error("The '"+t+"' module does not exist")},assertVue:function(){this.error("must call Vue.use(Vuet) before creating a store instance")},assertPromise:function(){"undefined"==typeof Promise&&this.error("Vuet requires a Promise polyfill in this browser")}},s="__vuetScrollSelf__",a="__vuetScrollWindow__",l=function(){function e(t){o(this,e),this.timer={},this.setOption(t),this.scrollTo(),this.subScroll()}return n(e,[{key:"update",value:function(e){var t=this;this.setOption(e);var r="timer-"+this.path+"-"+this.name;clearTimeout(this.timer[r]),this.timer[r]=setTimeout(function(){t.scrollTo(),delete t.timer[r]},10)}},{key:"destroy",value:function(){this.app.removeEventListener("scroll",this.subScrolling,!1)}},{key:"setOption",value:function(e){this.app=e.app,this.path=e.path,this.name=e.name||"",this.store=e.store||{x:0,y:0},this.scrolls=e.scrolls||function(e){return e.store.$scroll,e.store.$scroll[e.name],e.store.$scroll[e.name]}(e)}},{key:"scrollTo",value:function(){var e=this.app,t=this.scrolls;"scrollTop"in e&&e!==window?(e.scrollLeft=t.x,e.scrollTop=t.y):e.scrollTo(t.x,t.y)}},{key:"subScroll",value:function(){var e=this,t=this.app,r={x:0,y:0};this.subScrolling=function(o){if(t===window)r.x=window.pageXOffset,r.y=window.pageYOffset;else{var n=o.target,i=n.scrollTop,s=n.scrollLeft,a=n.pageXOffset,l=n.pageYOffset;r.x=s||l||s,r.y=i||a||i}Object.assign(e.scrolls,r)},t.addEventListener("scroll",this.subScrolling,!1)}}]),e}(),u={inserted:function(e,o,n){var u=o.modifiers,c=o.value;if("string"!=typeof c.path)return i.error("path is imperative parameter and is string type");if("window"===c.path)return i.error("name cannot be the window name");if(t(u)){if("string"!=typeof c.name)return i.error("name is imperative parameter and is string type");e[s]=new l({app:e,path:c.path,name:c.name,store:n.context.$vuet.store[c.path],scrolls:c.self})}r(u)&&(e[a]=new l({app:window,path:c.path,name:"window",store:n.context.$vuet.store[c.path],scrolls:c.window}))},componentUpdated:function(e,o,n){var i=o.modifiers,l=o.value;t(i)&&e[s].update({app:e,path:l.path,name:l.name,store:n.context.$vuet.store[l.path],scrolls:l.self}),r(i)&&e[a].update({app:window,path:l.path,name:"window",store:n.context.$vuet.store[l.path],scrolls:l.window||null})},unbind:function(e,o){var n=o.modifiers;t(n)&&(e[s].destroy(),delete e[s]),r(n)&&(e[a].destroy(),delete e[a])}},c={install:function(e,t){t.directive("vuet-scroll",u)}};e.default=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vuet-scroll.min.js.map
