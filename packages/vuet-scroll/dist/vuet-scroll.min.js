!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VuetScroll=e.VuetScroll||{})}(this,function(e){"use strict";function t(e){return!(!0===e.window&&!e.self)}function o(e){return!!e.window}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s={isObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},getArgMerge:function(){var e={},t=arguments;return"string"==typeof t[0]?e[t[0]]=t.length>1?t[1]:t[0]:t[0]&&s.isObject(t[0])&&(e=t[0]),e},isPromise:function(e){return!!e&&("object"===(void 0===e?"undefined":n(e))||"function"==typeof e)&&"function"==typeof e.then}},l={error:function(e){throw new Error("[vuet] "+e)},warn:function(e){},assertModule:function(e,t){t in e.modules||this.error("The '"+t+"' module does not exist")},assertVue:function(){this.error("must call Vue.use(Vuet) before creating a store instance")},assertPromise:function(){"undefined"==typeof Promise&&this.error("Vuet requires a Promise polyfill in this browser")}},a=void 0,u="__vuetScrollSelf__",c="__vuetScrollWindow__",f=function(){function e(t){r(this,e),this.timer={},this.setOption(t),this.scrollTo(),this.subScroll()}return i(e,[{key:"update",value:function(e){var t=this;this.setOption(e);var o="timer-"+this.path+"-"+this.name;clearTimeout(this.timer[o]),this.timer[o]=setTimeout(function(){t.scrollTo(),delete t.timer[o]},10)}},{key:"destroy",value:function(){this.app.removeEventListener("scroll",this.subScrolling,!1)}},{key:"setOption",value:function(e){this.app=e.app,this.path=e.path,this.name=e.name||"",this.store=e.store||{x:0,y:0},this.scrolls=e.scrolls||function(e){return e.store.$scroll||a.set(e.store,"$scroll",{}),e.store.$scroll[e.name]||a.set(e.store.$scroll,e.name,{x:0,y:0}),e.store.$scroll[e.name]}(e)}},{key:"scrollTo",value:function(){var e=this.app,t=this.scrolls;"scrollTop"in e&&e!==window?(e.scrollLeft=t.x,e.scrollTop=t.y):e.scrollTo(t.x,t.y)}},{key:"subScroll",value:function(){var e=this,t=this.app,o={x:0,y:0};this.subScrolling=function(n){if(t===window)o.x=window.pageXOffset,o.y=window.pageYOffset;else{var r=n.target,i=r.scrollTop,s=r.scrollLeft,l=r.pageXOffset,a=r.pageYOffset;o.x=s||a||s,o.y=i||l||i}Object.assign(e.scrolls,o)},t.addEventListener("scroll",this.subScrolling,!1)}}]),e}(),p={inserted:function(e,n,r){var i=n.modifiers,a=n.value;if("string"!=typeof a.path)return l.error("path is imperative parameter and is string type");if("window"===a.path)return l.error("name cannot be the window name");var p=r.context.$vuet.getState(a.path);if(!s.isObject(p))return l.error("'"+a.path+"' The module is not an object");if(t(i)){if("string"!=typeof a.name)return l.error("name is imperative parameter and is string type");e[u]=new f({app:e,path:a.path,name:a.name,store:p,scrolls:a.self})}o(i)&&(e[c]=new f({app:window,path:a.path,name:"window",store:p,scrolls:a.window}))},componentUpdated:function(e,n,r){var i=n.modifiers,a=n.value,f=r.context.$vuet.getState(a.path);if(!s.isObject(f))return l.error("'"+a.path+"' The module is not an object");t(i)&&e[u].update({app:e,path:a.path,name:a.name,store:f,scrolls:a.self}),o(i)&&e[c].update({app:window,path:a.path,name:"window",store:f,scrolls:a.window||null})},unbind:function(e,n){var r=n.modifiers;t(r)&&(e[u].destroy(),delete e[u]),o(r)&&(e[c].destroy(),delete e[c])}},d={install:function(e){a=e,e.directive("vuet-scroll",p)}};e.default=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vuet-scroll.min.js.map
