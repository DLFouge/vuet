!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VuetScroll=e.VuetScroll||{})}(this,function(e){"use strict";function t(e){return!(!0===e.window&&!e.self)}function o(e){return!!e.window}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},l={isObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},getArgMerge:function(){var e={},t=arguments;return"string"==typeof t[0]?e[t[0]]=t.length>1?t[1]:t[0]:t[0]&&l.isObject(t[0])&&(e=t[0]),e},isPromise:function(e){return("object"===(void 0===e?"undefined":n(e))||"function"==typeof e)&&!!e&&"function"==typeof e.then}},a={error:function(e){throw new Error("[vuet-scroll] "+e)},warn:function(e){},assertModule:function(e,t){t in e.modules||this.error("The '"+t+"' module does not exist")},assertVue:function(){this.error("must call Vue.use(Vuet) before creating a store instance")},assertFetch:function(e,t){this.assertModule(e,t),"function"!=typeof e.getModule(t).fetch&&this.error("'"+t+"' module 'fetch' must be the function type")}},c=void 0,u="__vuetScrollSelf__",f="__vuetScrollWindow__",p=function(){function e(t){r(this,e),this.timer={},this.setOption(t),this.scrollTo(),this.subScroll()}return i(e,[{key:"update",value:function(e){var t=this;this.setOption(e);var o="timer-"+this.path+"-"+this.name;clearTimeout(this.timer[o]),this.timer[o]=setTimeout(function(){t.scrollTo(),delete t.timer[o]},10)}},{key:"destroy",value:function(){this.app.removeEventListener("scroll",this.subScrolling,!1)}},{key:"setOption",value:function(e){this.app=e.app,this.path=e.path,this.name=e.name||"",this.store=e.store||{x:0,y:0},this.scrolls=e.scrolls||function(e){return e.store.$scroll||c.set(e.store,"$scroll",{}),e.store.$scroll[e.name]||c.set(e.store.$scroll,e.name,{x:0,y:0}),e.store.$scroll[e.name]}(e)}},{key:"scrollTo",value:function(){var e=this.app,t=this.scrolls;"scrollTop"in e&&e!==window?(e.scrollLeft=t.x,e.scrollTop=t.y):e.scrollTo(t.x,t.y)}},{key:"subScroll",value:function(){var e=this,t=this.app,o={x:0,y:0};this.subScrolling=function(n){if(t===window)o.x=window.pageXOffset,o.y=window.pageYOffset;else{var r=n.target,i=r.scrollTop,l=r.scrollLeft,a=r.pageXOffset,c=r.pageYOffset;o.x=l||c||l,o.y=i||a||i}s(e.scrolls,o)},t.addEventListener("scroll",this.subScrolling,!1)}}]),e}(),h={inserted:function(e,n,r){var i=n.modifiers,s=n.value;if("string"!=typeof s.path)return a.error("path is imperative parameter and is string type");if("window"===s.path)return a.error("name cannot be the window name");var c=r.context.$vuet.getState(s.path);if(!l.isObject(c))return a.error("'"+s.path+"' The module is not an object");if(t(i)){if("string"!=typeof s.name)return a.error("name is imperative parameter and is string type");e[u]=new p({app:e,path:s.path,name:s.name,store:c,scrolls:s.self})}o(i)&&(e[f]=new p({app:window,path:s.path,name:"window",store:c,scrolls:s.window}))},componentUpdated:function(e,n,r){var i=n.modifiers,s=n.value,c=r.context.$vuet.getState(s.path);if(!l.isObject(c))return a.error("'"+s.path+"' The module is not an object");t(i)&&e[u].update({app:e,path:s.path,name:s.name,store:c,scrolls:s.self}),o(i)&&e[f].update({app:window,path:s.path,name:"window",store:c,scrolls:s.window||null})},unbind:function(e,n){var r=n.modifiers;t(r)&&(e[u].destroy(),delete e[u]),o(r)&&(e[f].destroy(),delete e[f])}},d={install:function(e){c=e,e.directive("vuet-scroll",h)}};e.default=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vuet-scroll.min.js.map
