!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VuetRoute=e.VuetRoute||{})}(this,function(e){"use strict";function t(e,t,o){var r=e.getModule(t),u=["fullPath"];r.route.watch&&(u=r.route.watch),u=Array.isArray(u)?u:[u];var i=e[n][t];return e[n][t]=[],u.forEach(function(r){var u=o;r.split(".").forEach(function(e){u=u[e]}),e[n][t].push(JSON.stringify(u))}),i.join()!==e[n][t].join()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={isObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},getArgMerge:function(){var e={},t=arguments;return"string"==typeof t[0]?e[t[0]]=t.length>1?t[1]:t[0]:t[0]&&r.isObject(t[0])&&(e=t[0]),e},isPromise:function(e){return!!e&&("object"===(void 0===e?"undefined":o(e))||"function"==typeof e)&&"function"==typeof e.then}},u={error:function(e){throw new Error("[vuet-route] "+e)},warn:function(e){},assertModule:function(e,t){t in e.modules||this.error("The '"+t+"' module does not exist")},assertVue:function(){this.error("must call Vue.use(Vuet) before creating a store instance")},assertFetch:function(e,t){this.assertModule(e,t),"function"!=typeof e.getModule(t).fetch&&this.error("The '"+t+"' module 'fetch' method does not exist")}},n="__route__",i={init:function(e){e[n]={}},addModule:function(e,t){e[n][t]=[],r.isObject(e.getModule(t).route)||(e.getModule(t).route={})},rule:function(e){var o=e.path;return{beforeCreate:function(){u.assertModule(this.$vuet,o),this.$route||u.error("The 'vue-router' module is not installed");var e=this.$vuet.getModule(o);return r.isObject(e.state)||u.error("'"+o+"' module state must be the object type"),"function"!=typeof e.fetch&&u.error("'"+o+"' module 'fetch' must be the function type"),t(this.$vuet,o,this.$route)?(e.reset(),e.state.__routeLoaded__=!0,e.fetch(e)):!0===e.route.once&&e.state.__routeLoaded__?void 0:(e.state.__routeLoaded__=!0,e.fetch(e))},watch:{$route:{deep:!0,handler:function(e,r){var u=this.$vuet.getModule(o);t(this.$vuet,o,e)&&(u.reset(),u.state.__routeLoaded__=!0,u.fetch(u))}}}}}};e.default=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vuet-route.min.js.map
